{% load static %}
{% with instance.month_calendar as object %}

<style>
  .mini-calendar {
    padding: 4px;
    line-height: 1.4;
    background-color: #FFF;
    border: 1px solid #DDD;
    border-radius: 4px;
    transition: border 0.2s ease-in-out 0s;
  }
  .mini-calendar .day {
    padding: 0px;
  }
  .mini-calendar .day a {
    display: block;
    padding: 5px;
    color: black;
  }
  .mini-calendar .day a[href] {
    cursor: pointer;
    background-color: #fdd;
    border-radius: 1em;
  }
  .mini-calendar .day a:hover {
    text-decoration: none;
  }
  .mini-calendar .day a[href]:hover {
    background-color: #eaa;
  }
  .mini-calendar .dow {
    border: 2px solid #ddd;
    border-width: 2px 0px;
    background-color: #eaeaea;
  }
  .mini-calendar .cal-day-outmonth {
    color: #ddd;
  }
  .mini-calendar .cal-day-outmonth:hover {
    color: #fff;
  }
  .mini-calendar .cal-day-past {
    color: #666;
  }
  .mini-calendar .cal-weekend {
    background-color: #fafafa;
    border-left: 1px solid #ddd;
  }
  .mini-calendar .cal-day-today a {
    background-color: #A0A0FF;
    font-weight: bold;
  } 
</style>

<div class="col-md-3">
  <table class="mini-calendar text-center table-condensed" style="width: 100%">
    <thead>
      <tr>
        <th class="prev text-center"><a href="{{ object.previous.get_absolute_url }}">&#x2039;</a></th>
        <th colspan="5" class="switch text-center">{{ object }} {{ object.year }}</th>
        <th class="next text-center"><a href="{{ object.next.get_absolute_url }}">&#x203A;</a></th>
      </tr>
      <tr>
        {% for dow in object.week_days %}
          <th class="dow text-center">{{ dow|slice:"2" }}</div>
        {% endfor %}
      </tr>
    </thead>
    <tbody>
      {% for week in object %}
        <tr>
          {% for day in week %}
            <td class="day {{ day.get_css }}">
              {% if day|length >= 2 %}
                <a href="{{ day.get_absolute_url }}">{{ day.date.day }}</a>
              {% elif day|length == 1 %}
                <a href="{{ day.0.get_absolute_url }}">{{ day.date.day }}</a>
              {% else %}
                <a>{{ day.date.day }}</a>
              {% endif %}
            </td>
          {% endfor %}
        </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

{% endwith %}
